# M365 MCP Server - Streamable HTTP Mode Configuration Example
# Use with: m365-mcp --env-file .env.http

# ============================================================================
# REQUIRED - Microsoft Authentication
# ============================================================================
M365_MCP_CLIENT_ID=your-app-client-id-here

# ============================================================================
# TRANSPORT MODE - Streamable HTTP
# ============================================================================
MCP_TRANSPORT=http
MCP_HOST=127.0.0.1
MCP_PORT=8000
MCP_PATH=/mcp

# ============================================================================
# AUTHENTICATION - Bearer Token (Recommended)
# ============================================================================
MCP_AUTH_METHOD=bearer

# Generate secure token with: openssl rand -hex 32
# IMPORTANT: Replace with your own secure token!
MCP_AUTH_TOKEN=replace-with-output-of-openssl-rand-hex-32

# ============================================================================
# LOGGING (Optional)
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
# MCP_LOG_LEVEL=INFO

# Log directory (default: logs)
# MCP_LOG_DIR=logs

# ============================================================================
# USAGE
# ============================================================================
# 1. Copy this file: cp .env.http.example .env.http
# 2. Set your M365_MCP_CLIENT_ID
# 3. Generate secure token: openssl rand -hex 32
# 4. Replace MCP_AUTH_TOKEN with the generated token
# 5. Run: m365-mcp --env-file .env.http
# 6. Server will be available at: http://127.0.0.1:8000/mcp
# 7. Health check at: http://127.0.0.1:8000/health
# 8. Use bearer token in Authorization header:
#    curl -H "Authorization: Bearer YOUR_TOKEN" http://127.0.0.1:8000/mcp

# ============================================================================
# SECURITY NOTES
# ============================================================================
# - NEVER commit .env.http file to version control
# - Use strong tokens (minimum 32 characters)
# - Rotate tokens regularly
# - Keep host as 127.0.0.1 for local-only access
# - Use SSH tunneling for remote access instead of 0.0.0.0
# - For production, use reverse proxy (nginx/Caddy) with HTTPS
#
# See SECURITY.md for complete security guide
